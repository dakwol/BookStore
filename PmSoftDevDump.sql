--
-- PostgreSQL database dump
--

-- Dumped from database version 16.2
-- Dumped by pg_dump version 16.2

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: Authors; Type: TABLE; Schema: public; Owner: PmSoft
--

CREATE TABLE public."Authors" (
    "Id" integer NOT NULL,
    "Name" text NOT NULL,
    "CountryId" integer
);


ALTER TABLE public."Authors" OWNER TO "PmSoft";

--
-- Name: Authors_Id_seq; Type: SEQUENCE; Schema: public; Owner: PmSoft
--

ALTER TABLE public."Authors" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Authors_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: Books; Type: TABLE; Schema: public; Owner: PmSoft
--

CREATE TABLE public."Books" (
    "Id" integer NOT NULL,
    "Title" text NOT NULL,
    "Year" integer NOT NULL,
    "Description" text,
    "GenreId" integer,
    "AuthorId" integer,
    "PublisherId" integer,
    "Rating" integer NOT NULL,
    "ImagePreview" text
);


ALTER TABLE public."Books" OWNER TO "PmSoft";

--
-- Name: Books_Id_seq; Type: SEQUENCE; Schema: public; Owner: PmSoft
--

ALTER TABLE public."Books" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Books_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: Countries; Type: TABLE; Schema: public; Owner: PmSoft
--

CREATE TABLE public."Countries" (
    "Id" integer NOT NULL,
    "Name" text NOT NULL
);


ALTER TABLE public."Countries" OWNER TO "PmSoft";

--
-- Name: Countries_Id_seq; Type: SEQUENCE; Schema: public; Owner: PmSoft
--

ALTER TABLE public."Countries" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Countries_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: Genres; Type: TABLE; Schema: public; Owner: PmSoft
--

CREATE TABLE public."Genres" (
    "Id" integer NOT NULL,
    "Name" text NOT NULL
);


ALTER TABLE public."Genres" OWNER TO "PmSoft";

--
-- Name: Genres_Id_seq; Type: SEQUENCE; Schema: public; Owner: PmSoft
--

ALTER TABLE public."Genres" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Genres_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: Publishers; Type: TABLE; Schema: public; Owner: PmSoft
--

CREATE TABLE public."Publishers" (
    "Id" integer NOT NULL,
    "Name" text NOT NULL
);


ALTER TABLE public."Publishers" OWNER TO "PmSoft";

--
-- Name: Publishers_Id_seq; Type: SEQUENCE; Schema: public; Owner: PmSoft
--

ALTER TABLE public."Publishers" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Publishers_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: Users; Type: TABLE; Schema: public; Owner: PmSoft
--

CREATE TABLE public."Users" (
    "Id" integer NOT NULL,
    "Email" text NOT NULL,
    "PasswordHash" text NOT NULL,
    "Name" text NOT NULL,
    "Role" integer NOT NULL,
    "RefreshToken" text,
    "RefreshTokenExpiryTime" timestamp with time zone
);


ALTER TABLE public."Users" OWNER TO "PmSoft";

--
-- Name: Users_Id_seq; Type: SEQUENCE; Schema: public; Owner: PmSoft
--

ALTER TABLE public."Users" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Users_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: __EFMigrationsHistory; Type: TABLE; Schema: public; Owner: PmSoft
--

CREATE TABLE public."__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL
);


ALTER TABLE public."__EFMigrationsHistory" OWNER TO "PmSoft";

--
-- Data for Name: Authors; Type: TABLE DATA; Schema: public; Owner: PmSoft
--

COPY public."Authors" ("Id", "Name", "CountryId") FROM stdin;
1	Frank Herbert	1
3	Джордж Оруэлл	1
4	Александр Беляев	1
\.


--
-- Data for Name: Books; Type: TABLE DATA; Schema: public; Owner: PmSoft
--

COPY public."Books" ("Id", "Title", "Year", "Description", "GenreId", "AuthorId", "PublisherId", "Rating", "ImagePreview") FROM stdin;
5	Мессия Дюны	2020	Продолжение бестселлера «Дюна» — лучшего научно-фантастического романа всех времен по версии журнала «Локус». «Дюна» и её продолжения переведены на десятки языков и разошлись тиражом в 30 000 000 экземпляров. Пол Атрейдес расправился с убийцами своего отца и стал правителем известной всем части галактики. В стане недовольных его политикой и самим существованием зреет заговор, однако как обмануть того, кто обладает даром предвидения и способен видеть сквозь пространство и время. Можно ли совершить невозможное и предать Мессию?	1	1	1	4	https://s1.livelib.ru/boocover/1008957088/200x305/d07d/Frenk_Gerbert__Messiya_Dyuny.jpg
6	Бог-Император Дюны	1999	Описание Четвёртая книга цикла «Хроники Дюны» — одного из самых значимых и любимых читателями научно-фантастических циклов. Император Лето II уверен, что только он способен уберечь цивилизацию от гибели и провести человечество по золотому пути развития. Однако для этого ему придётся отречься от собственного облика и, по всей видимости, править целую вечность. Тем временем на Арракисе завершается глобальная экологическая трансформация. Теперь на песчаной планете есть озера, леса и благоухают цветы… Но нет самого главного — пряности. Аннотация Роман "Бог-Император Дюны" повествует о жизни Лето II, сына Пола Атрейдеса. Масштабная экологическая трансформация подошла к завершению. На Арракисе появились леса, озера и реки. Но нет больше великой пустыни и нет песчаных червей, производивших специю — самую большую драгоценность планеты…	1	1	1	5	https://s1.livelib.ru/boocover/1007493016/200x305/3745/Frenk_Gerbert__BogImperator_Dyuny.jpg
7	Капитул Дюны	1998	Досточтимые Матроны уничтожили планету Ракис и почти полностью завоевали Старую Империю. Сестры Ордена Бинэ Гессерит создают новую Дюну на планете Капитул и вырабатывают стратегию, которая позволит им вернуть утраченные позиции. Однако противник не намерен сдаваться: он продолжает наступление и строит свои хитроумные планы…	1	1	1	3	https://s1.livelib.ru/boocover/1009000204/200x305/acc6/Frenk_Gerbert__Kapitul_Dyuny.jpg
4	Дети Дюны	2022	""Дети Дюны"" — третья книга культовой эпопеи Герберта. На политическом ландшафте Арракиса появляются новые игроки — наделенные сверхспособностями и даром предвидения дети Пола Атрейдеса, близнецы Лето и Гханима. Дети, лишенные детства. Дети, которым придется проявить мудрость и стойкость, чтобы выжить самим и спасти Вселенную…	1	1	1	3	https://s1.livelib.ru/boocover/1003837300/200x305/89ac/Frenk_Gerbert__Deti_Dyuny.jpg
2	Dune	1999	Dune is set in the distant future amidst a feudal interstellar society in which various noble houses control planetary fiefs. It tells the story of young Paul Atreides, whose family accepts the stewardship of the planet Arrakis. While the planet is an inhospitable and sparsely populated desert wasteland, it is the only source of melange, or "spice", a drug that extends life and enhances mental abilities. Melange is also necessary for space navigation, which requires a kind of multidimensional awareness and foresight that only the drug provides. As melange can only be produced on Arrakis, control of the planet is a coveted and dangerous undertaking. The story explores the multilayered interactions of politics, religion, ecology, technology, and human emotion, as the factions of the empire confront each other in a struggle for the control of Arrakis and its spice.	1	1	1	4	https://www.ixpap.com/images/2021/10/Dune-Book-Wallpaper-4.jpg
8	1984 Скотный двор	2012	Джордж Оруэлл, английский писатель, критик и публицист вошел в историю литературы прежде всего благодаря своему последнему роману «1984». Книга увидела свет в 1949 году, многократно переиздавалась и была переведена на 60 языков. Наряду с «Прекрасным новым миром» О. Хаксли и «Мы» Е. Замятина, роман Оруэлла стал одной из главных книг-антиутопий ХХ века. Изображенное автором общество будущего основано на тотальной несвободе личности, пропаганде и открытом насилии, которые победили, согласно горькому и грозному предсказанию автора, в вымышленном государстве Океания к 1984 году, однако в устройстве этого государства легко угадываются черты любого тоталитарного режима. В настоящий сборник включена также знаменитая сатирическая сказка-притча «Скотный двор», которая тематически примыкает к роману "1984". Животные в сказке, изгнав с фермы хозяина, пытаются создать справедливое общество по законам всеобщего равенства. Но это оказывается не таким уж легким делом, ибо, как сказано в романе: «Все животные равны. Но некоторые животные равны более, чем другие»	2	3	2	5	https://s1.livelib.ru/boocover/1008871603/200x305/62c6/Dzhordzh_Oruell__1984._Skotnyj_dvor_sbornik.jpg
9	Голова профессора Доуэля	2023	Один из наиболее известных романов в истории отечественной научной фантастики. Мари поступает на работу в частную клинику, где быстро начинает подозревать, что ее директор, профессор Керн, замешан в темных делах. Похоже, своим успехом в науке он обязан вовсе не собственному таланту. Руководитель профессора Керна погиб при странных обстоятельствах, но Мари обнаруживает, что на самом деле профессор Доуэль вовсе не умер… Точнее, не вполне умер… Сам Герберт Уэллс с восхищением отзывался об этом романе, впервые опубликованном в 1925 г. Книга была переведена на множество языков, а в 1984 г. легла в основу советской экранизации.	2	4	1	4	https://s1.livelib.ru/boocover/1008741793/200x305/4820/Aleksandr_Belyaev__Golova_professora_Douelya.jpg
\.


--
-- Data for Name: Countries; Type: TABLE DATA; Schema: public; Owner: PmSoft
--

COPY public."Countries" ("Id", "Name") FROM stdin;
1	CITY
\.


--
-- Data for Name: Genres; Type: TABLE DATA; Schema: public; Owner: PmSoft
--

COPY public."Genres" ("Id", "Name") FROM stdin;
1	Frank Herbert
2	Фантастика
\.


--
-- Data for Name: Publishers; Type: TABLE DATA; Schema: public; Owner: PmSoft
--

COPY public."Publishers" ("Id", "Name") FROM stdin;
1	BOOK
2	Строка
\.


--
-- Data for Name: Users; Type: TABLE DATA; Schema: public; Owner: PmSoft
--

COPY public."Users" ("Id", "Email", "PasswordHash", "Name", "Role", "RefreshToken", "RefreshTokenExpiryTime") FROM stdin;
1	admin@mail.com	$2a$10$8UM3JMgJxQSkgKuSqAaUT.TNZRxwJtiW8/Ao.myLH.ngxA9khuXce	admin	0	Smy8Qmd2pUA+9/Zpi0en7CWBN7QSmJyZHIYd8TCPTyA=	2024-05-27 21:22:49.69866+03
2	user@mail.com	$2a$10$DJO1JARVQdIiKsG3P/Uws.8muWb3JTApjwPIAEQqylxB0mIHxkheC	User	1	FPAaHG65U9ATg2Z9ytP96Mvnjy9GlYPHBVO3EV1aXVw=	2024-05-27 22:37:53.219958+03
3	usertest@mail.com	$2a$10$GE/366Z2uFhn1ZV95rJrWOj3PhByIb817OU5dSO//yUoUcWm85VW2	User	1	xRheSgVKxzchR83Bw2We4+/pVaQPEfw9Br9b4r/R+5w=	2024-05-27 22:39:50.986471+03
4	usertest1@mail.com	$2a$10$0Qafq8PjQuDhcas0gOThyO/Ph5eOLqhxVHwSyi66kPDbmircjBuMW	User	1	Ms0WTmoc+9wJ8lNoMb+FS40a7paaYeT4fWimDoFwfSI=	2024-05-27 22:41:37.764506+03
5	usertest2@mail.com	$2a$10$puHOW2uCD3SwMsC7Cz3rce3SQMc2HeZsrjtfIhwL7yiPDM9e9Y0Jq	User	1	phRodfb4jkLZPuSTw838spmGk09KwoBcZnmvwbY2FDE=	2024-05-27 22:45:12.135839+03
\.


--
-- Data for Name: __EFMigrationsHistory; Type: TABLE DATA; Schema: public; Owner: PmSoft
--

COPY public."__EFMigrationsHistory" ("MigrationId", "ProductVersion") FROM stdin;
20240426181207_Initial	8.0.4
\.


--
-- Name: Authors_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: PmSoft
--

SELECT pg_catalog.setval('public."Authors_Id_seq"', 4, true);


--
-- Name: Books_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: PmSoft
--

SELECT pg_catalog.setval('public."Books_Id_seq"', 9, true);


--
-- Name: Countries_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: PmSoft
--

SELECT pg_catalog.setval('public."Countries_Id_seq"', 1, true);


--
-- Name: Genres_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: PmSoft
--

SELECT pg_catalog.setval('public."Genres_Id_seq"', 2, true);


--
-- Name: Publishers_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: PmSoft
--

SELECT pg_catalog.setval('public."Publishers_Id_seq"', 2, true);


--
-- Name: Users_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: PmSoft
--

SELECT pg_catalog.setval('public."Users_Id_seq"', 5, true);


--
-- Name: Authors PK_Authors; Type: CONSTRAINT; Schema: public; Owner: PmSoft
--

ALTER TABLE ONLY public."Authors"
    ADD CONSTRAINT "PK_Authors" PRIMARY KEY ("Id");


--
-- Name: Books PK_Books; Type: CONSTRAINT; Schema: public; Owner: PmSoft
--

ALTER TABLE ONLY public."Books"
    ADD CONSTRAINT "PK_Books" PRIMARY KEY ("Id");


--
-- Name: Countries PK_Countries; Type: CONSTRAINT; Schema: public; Owner: PmSoft
--

ALTER TABLE ONLY public."Countries"
    ADD CONSTRAINT "PK_Countries" PRIMARY KEY ("Id");


--
-- Name: Genres PK_Genres; Type: CONSTRAINT; Schema: public; Owner: PmSoft
--

ALTER TABLE ONLY public."Genres"
    ADD CONSTRAINT "PK_Genres" PRIMARY KEY ("Id");


--
-- Name: Publishers PK_Publishers; Type: CONSTRAINT; Schema: public; Owner: PmSoft
--

ALTER TABLE ONLY public."Publishers"
    ADD CONSTRAINT "PK_Publishers" PRIMARY KEY ("Id");


--
-- Name: Users PK_Users; Type: CONSTRAINT; Schema: public; Owner: PmSoft
--

ALTER TABLE ONLY public."Users"
    ADD CONSTRAINT "PK_Users" PRIMARY KEY ("Id");


--
-- Name: __EFMigrationsHistory PK___EFMigrationsHistory; Type: CONSTRAINT; Schema: public; Owner: PmSoft
--

ALTER TABLE ONLY public."__EFMigrationsHistory"
    ADD CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId");


--
-- Name: IX_Authors_CountryId; Type: INDEX; Schema: public; Owner: PmSoft
--

CREATE INDEX "IX_Authors_CountryId" ON public."Authors" USING btree ("CountryId");


--
-- Name: IX_Books_AuthorId; Type: INDEX; Schema: public; Owner: PmSoft
--

CREATE INDEX "IX_Books_AuthorId" ON public."Books" USING btree ("AuthorId");


--
-- Name: IX_Books_GenreId; Type: INDEX; Schema: public; Owner: PmSoft
--

CREATE INDEX "IX_Books_GenreId" ON public."Books" USING btree ("GenreId");


--
-- Name: IX_Books_PublisherId; Type: INDEX; Schema: public; Owner: PmSoft
--

CREATE INDEX "IX_Books_PublisherId" ON public."Books" USING btree ("PublisherId");


--
-- Name: Authors FK_Authors_Countries_CountryId; Type: FK CONSTRAINT; Schema: public; Owner: PmSoft
--

ALTER TABLE ONLY public."Authors"
    ADD CONSTRAINT "FK_Authors_Countries_CountryId" FOREIGN KEY ("CountryId") REFERENCES public."Countries"("Id");


--
-- Name: Books FK_Books_Authors_AuthorId; Type: FK CONSTRAINT; Schema: public; Owner: PmSoft
--

ALTER TABLE ONLY public."Books"
    ADD CONSTRAINT "FK_Books_Authors_AuthorId" FOREIGN KEY ("AuthorId") REFERENCES public."Authors"("Id");


--
-- Name: Books FK_Books_Genres_GenreId; Type: FK CONSTRAINT; Schema: public; Owner: PmSoft
--

ALTER TABLE ONLY public."Books"
    ADD CONSTRAINT "FK_Books_Genres_GenreId" FOREIGN KEY ("GenreId") REFERENCES public."Genres"("Id");


--
-- Name: Books FK_Books_Publishers_PublisherId; Type: FK CONSTRAINT; Schema: public; Owner: PmSoft
--

ALTER TABLE ONLY public."Books"
    ADD CONSTRAINT "FK_Books_Publishers_PublisherId" FOREIGN KEY ("PublisherId") REFERENCES public."Publishers"("Id");


--
-- PostgreSQL database dump complete
--

